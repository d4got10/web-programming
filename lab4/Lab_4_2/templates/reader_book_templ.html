{% from "table_macro.html" import show_table %}

<html>
<head>
    <title> Карточка читателя </title>
    {% macro render_table(table_name, relation) %}
    …
    {% endmacro %}
</head>
<body>
<p>
<form>
    Читатель:
    <select name="reader">
        {% set n = len(combo_box) %}
        {% for i in range(n) %}
        {% set id_r = combo_box.loc[i, "reader_id"] %}
        {% if id_r == reader_id %}
        <option selected value={{id_r}}>
            {% else %}
        <option value={{id_r}}>
            {% endif %}
            {{ combo_box.loc[i, "reader_name"] }}
        </option>
        {% endfor %}
    </select>
    <input type="submit" value="Найти">
</form>
</p>
{{ show_table("Карточка", book_reader, len) }}
</body>
</html>